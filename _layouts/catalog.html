<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Newsreader">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter">

    <style>
        /* Font Family */
        * {
            font-family: 'Outfit', sans-serif;
        }
    
        /* Info bar */
        .info-bar {
            background-color: #555843;
            width: 100%;
            text-align: center;
            height: 2.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    
        .info-text {
            font-weight: 600;
            font-family: "Outfit";
            color: white;
            margin: 0;
        }
    
        /* NAVIGATION */
        body {
            padding: 0;
            margin: 0;
        }
    
        .logo {
            padding-left: 6rem;
            font-weight: bold;
            font-family: "Outfit";
            font-size: 250%;
        }
    
        nav {
            width: 100%;
            list-style: none;
            text-align: center;
            top: 0;
            padding-top: 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 100;
            background-color: white;
        }
    
        .nav-div {
            display: flex;
            align-items: center;
        }
    
        .nav-links a {
            font-size: 85%;
            text-decoration: none;
            color: gray;
            font-weight: 400;
            font-family: "Outfit";
            line-height: 0.8;
            transition: text-decoration 0.2s;
        }
    
        /* Remove the hover effect to keep the links always gray */
        .nav-links a:hover {
            text-decoration: underline;
        }
    
        .nav-links li {
            display: inline-block;
            margin-left: 25px;
            font-size: 125%;
        }
    
        /* Cart Button Styling */
        .cart-button {
            background-color: #5272F2;
            border: none;
            border-radius: 5px;
            color: white !important;
            font-weight: bold;
            font-size: 110%;
            padding: 10px 20px;
            margin-right: 3.5rem;
            /* Adjust margin to position the Cart button */
            cursor: pointer;
        }
    
        .active {
            font-weight: 800;
            text-decoration: underline;
        }
    
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: absolute;
                top: 60px;
                left: 0;
                background-color: white;
                z-index: 101;
                width: 100%;
            }
    
            .nav-links.active {
                display: flex;
                flex-direction: column;
            }
    
            .nav-div {
                position: relative;
            }
    
            .nav-button {
                display: block;
                cursor: pointer;
            }
        }
    
        .info-bar {
            background-color: #555843;
            width: 100%;
            text-align: center;
            height: 2.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    
        @media (min-width: 769px) {
            .menu-button {
                display: none;
            }
    
            /* New styles for the hero section */
            .hero-section {
                background-image: url('../images/plate-with-fresh-cookies-from-oven.jpg');
                background-size: cover;
                background-position: center;
                height: 35rem;
                display: flex;
                justify-content: center;
                align-items: center;
                color: white;
                flex-direction: column;
                animation: movingBackground 20s infinite linear;
                /* Add this line for animation */
            }
    
            /* Add keyframes animation */
            @keyframes movingBackground {
                0% {
                    background-position: 0 0;
                    /* Start from the top-left corner */
                }
    
                100% {
                    background-position: 100% 0;
                    /* Move to the top-right corner */
                }
            }
    
            .hero-text {
                text-align: center;
                font-size: 36px;
                margin-bottom: 20px;
                font-weight: 800;
                /* Space between text and button */
                display: flex;
                flex-direction: column;
                align-items: center;
                /* Center the button under the text */
            }
    
            a.learn-more-button {
                -webkit-appearance: button;
                -moz-appearance: button;
                appearance: button;
                text-decoration: none;
    
                background-color: #5272F2;
                /* Button background color */
                color: white;
                border: none;
                padding: 10px 20px;
                font-size: 20px;
                border-radius: 5px;
                cursor: pointer;
                margin-top: 10px;
                /* Adjust the top margin as needed */
            }
    
            .next-section {
                background-color: white;
                padding: 20px;
                text-align: center;
            }
    
            .next-section h2 {
                font-size: 36px;
                /* Adjust the font size as needed */
                font-weight: bold;
            }
    
            .slogan {
                font-size: 24px;
                /* Adjust the font size as needed */
                margin-top: 20px;
                /* Space between heading and slogan */
            }
        }
    
        .active {
            font-weight: 800;
            text-decoration: underline;
        }
    
    
        /* filter buttons*/
        a.chip {
            -webkit-appearance: button;
            -moz-appearance: button;
            appearance: button;
    
            text-decoration: none;
            font-family: 'Inter', serif;
            font-weight: bolder;
            color: black;
            padding: 10px 15px;
    
            border: 1px solid #C2C2C2;
    
            border-radius: 20px;
    
            margin-left: auto;
            margin-left: 5px;
    
            transition-duration: 0.4s;
        }
    
        a.chip:hover {
            color: white !important;
            border: 1px solid rgba(255, 255, 245, 0);
            /* it makes the border go away */
            background-color: #426B1F;
        }
    
        .chipContainer {
            margin-left: auto;
        }
    
        /* catalog items */
        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            grid-gap: 5rem;
            padding: 5rem;
        }
    
        .card {
            background-color: #FAFAF5;
            border: 1px solid #E6E6E6;
            border-radius: 24px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 0;
            padding-bottom: 100%;
            position: relative;
        }
    
        .card-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: left;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 245, 0.5);
            backdrop-filter: blur(5px);
        }
    
        .title {
            font-family: 'Inter', serif;
            font-weight: bold;
            font-size: 20px;
            margin-bottom: 0;
        }
    
        .price {
            font-family: 'Inter', serif;
            font-weight: bold;
            font-size: 20px;
            color: #426B1F;
        }
    
        .card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 24px;
            position: absolute;
            top: 0;
            left: 0;
        }
    
        .logo {
            padding-left: 6rem;
            font-weight: bold;
            font-family: "Outfit";
            font-size: 250%;
        }
    
        .product-card {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            margin: 10px;
            width: 200px;
            display: inline-block;
            text-align: center;
            background-color: #f8f8f8;
        }
    
        .product-title {
            font-size: 1.2em;
        }
    
        .product-price {
            font-weight: bold;
            color: #007bff;
        }
    </style>
</head>

<body>

    <section id="info bar">
        <div class="info-bar">
            <p class="info-text">
                50% Off Only Today!
            </p>
        </div>
    </section>

    <nav>
        <div class="nav-div">
            <h1 class="logo">Chrissie's</h1>
            <ul class="nav-links">
                <li><a href="{{site.baseurl}}/cookies/" class="active">Home</a></li>
                <li><a href="{{site.baseurl}}/catalog/">Catalog</a></li>
                <li><a href="{{site.baseurl}}/cookiemaker/">Cookie Maker</a></li>
                <li><a href="{{site.baseurl}}/cart/" class="cart cart-button">Cart</a></li>
            </ul>
        </div>
    </nav>

    <!-- catalog text & filters -->

    <div class="grid" id="catalog-grid"></div>
    <button id="addCookieButton">Add Cookie</button>

    <script>

        const apiUrl = 'https://bytebufoons.stu.nighthawkcodingsociety.com/api/Cookie/'; // Replace with the actual API URL

        // Make an HTTP GET request to the API
        fetch(apiUrl)
            .then(response => response.json()) // Parse the JSON response
            .then(data => {
                // Organize the data into a dictionary
                const organizedData = {
                    Cookie_api: {
                        url_prefix: '/api/Cookie',
                        CookieAPI: {
                            get: {
                                description: 'Retrieve all cookies from the database',
                                url: '/api/Cookie',
                                method: 'GET',
                                data: data, // Include the retrieved data here
                            },
                        },
                    },
                    CookieListAPI: {
                        CookieListAPI: {
                            get: {
                                description: 'Retrieve all cookies from the database',
                                url: '/api/Cookie',
                                method: 'GET',
                                data: data, // Include the retrieved data here
                            },
                        },
                    },
                };

                // Now, you have the organized data in the "organizedData" dictionary
                Data = organizedData.Cookie_api.CookieAPI.get.data; //data[id].Cookie_name, image whatever u may need,
                console.log(Data);
                const catalogGrid = document.getElementById("catalog-grid");
                const cartState={}
                Data.forEach((item, index) => {
                    const imagePaths =[
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2016/10/halloweencookies-11-350x500.jpg",
                                "alt": "Pretzel mummies on top of a chocolate chip cookie with orange chips."
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2012/02/pumpkin-cookies-11-350x500.jpg",
                                "alt": "Two frosted cake mix pumpkin cookies on a white plate, with a bite missing from one cookie."
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2020/10/pumpkincookies-5-350x500.jpg",
                                "alt": "Pumpkin Cookie broken in half stacked"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2023/09/chocolatecookiesorangecandy-5-350x500.jpg",
                                "alt": "Chocolate Brownie Cookies on a wire rack filled with orange M&Ms"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2023/05/kitchensinkcookies-5-350x500.jpg",
                                "alt": "Kitchen Sink Cookies on a cooling rack"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2023/04/lemoncoolercookies-4-350x500.jpg",
                                "alt": "Lemon Cooler Cookies on a wire cooking rack coated in powdered sugar"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2023/01/nobakepbcookies-6-350x500.jpg",
                                "alt": "No Bake Cookies scooped and set on a baking sheet"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2023/01/crumblcookiescopycat-9-350x500.jpg",
                                "alt": "Copycat Crumbl Cookie with milk chocolate chips"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2022/11/bestchristmascookies-350x500.jpg",
                                "alt": "Collage of spritz cookies, peanut butter blossoms and gingersnap cookies"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2022/11/brownsugarcutouts-5-350x500.jpg",
                                "alt": "Brown sugar cut out sugar cookies stacked on a wire rack"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2022/11/walnutcookies-6-350x500.jpg",
                                "alt": "pan banging walnut cookies on a wire rack"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2022/09/applecidercookies-4-350x500.jpg",
                                "alt": "Apple Cider Cookies on a cooling rack"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2022/08/pecancookies-7-350x500.jpg",
                                "alt": "pecan cookies stacked on a plate"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2022/07/limeshortbread-6-350x500.jpg",
                                "alt": "lime shortbread coated in icing stacked on a plate"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2022/07/toffeechocolatechipcookies-5-350x500.jpg",
                                "alt": "butter crunch chocolate chip cookies on a wire rack with flaked sea salt"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2022/03/airfrychocchipcookies-11-350x500.jpg",
                                "alt": "air fryer chocolate chip cookies on the air fryer rack with parchment paper"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2022/02/saltedchocolatecookies-5-350x500.jpg",
                                "alt": "Salted crinkle cookies on a wire rack."
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2021/12/gingerbreadsandwichcookies-9-350x500.jpg",
                                "alt": "Soft Gingerbread Cookie Sandwiches on a plate with Christmas decor"
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2021/05/buttercookies-7-350x500.jpg",
                                "alt": "Plate of butter cookies with their edges coated with sprinkles."
                            },
                            {
                                "url": "https://cookiesandcups.com/wp-content/uploads/2021/10/chocolatecrinklecookies-6-350x500.jpg",
                                "alt": "Freshly baked chocolate crinkle cookies on a white tea towel and gingham tablecloth. One of the cookies has been broken in half to reveal the soft interior."
                            }
                        ]
                    
                    const card = document.createElement("div")
                    card.className = "card";

                    const image = document.createElement("img");
                    image.src = imagePaths[index].url
                    image.alt = imagePaths[index].alt

                    const cardContent = document.createElement("div")
                    cardContent.className = "card-content";

                    const title = document.createElement("p");
                    title.className = "title";
                    title.textContent = `${item.Cookie_name} - $${item.price}`


                    // new line
                    const whitespace1 = document.createElement("p");
                    whitespace1.className = "title";
                    whitespace1.textContent = ``

                    const chip = document.createElement("a");
                    chip.className = "chip";
                    chip.textContent = "Add to Cart";
                    // chip.addEventListener("click", () => {
                    //     const productId = item.Cookie_name
                    //     cartState[productId] = (cartState[productId] || 0) + 1
                    //     console.log(cartState)
                    // });
                    chip.addEventListener("click", () => {
                        const productId = item.Cookie_name
                        cartState[productId] = (cartState[productId] || 0) + 1
                        localStorage.setItem("cart", JSON.stringify(cartState))
                    });

                    // new line
                    const whitespace2 = document.createElement("p");
                    whitespace2.className = "title";
                    whitespace2.textContent = ``


                    cardContent.appendChild(title);
                    cardContent.appendChild(whitespace1)
                    cardContent.appendChild(chip);
                    cardContent.appendChild(whitespace2)

                    card.appendChild(image);
                    card.appendChild(cardContent);

                    catalogGrid.appendChild(card);

                })
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });

        document.getElementById("addCookieButton").addEventListener("click", function () {
            // Define the data to be sent to the API
            const cookieData = {
                Cookie_name: "Chocolate Chip",
                image: "chocolate_chip.jpg",
                stock: 100,
                price: 1.99
            };

            // Send a POST request to the API
            fetch(apiUrl, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(cookieData)
            })
                .then(response => response.json())
                .then(data => {
                    // Handle the response data here, e.g., display a success message
                    console.log("Cookie added:", data);
                    alert("Cookie added successfully!");
                })
                .catch(error => {
                    // Handle any errors here, e.g., display an error message
                    console.error("Error:", error);
                    alert("Error adding the cookie.");
                });
        });
        //delete this 

    </script>
</body>

</html>

</body>

<script>
    window.SnipcartSettings = {
        publicApiKey: 'NzFjYjkzMDAtMzFmYy00NThhLTg2YTktNjgwN2ExYTJmMzk5NjM4MzMwMzQyMjk0MTIzNDU1',
        loadStrategy: 'on-user-interaction',
        templatesUrl: "/snipcart-templates.html",
    };

    (() => { var c, d; (d = (c = window.SnipcartSettings).version) != null || (c.version = "3.0"); var s, S; (S = (s = window.SnipcartSettings).timeoutDuration) != null || (s.timeoutDuration = 2750); var l, p; (p = (l = window.SnipcartSettings).domain) != null || (l.domain = "cdn.snipcart.com"); var w, u; (u = (w = window.SnipcartSettings).protocol) != null || (w.protocol = "https"); var f = window.SnipcartSettings.version.includes("v3.0.0-ci") || window.SnipcartSettings.version != "3.0" && window.SnipcartSettings.version.localeCompare("3.4.0", void 0, { numeric: !0, sensitivity: "base" }) === -1, m = ["focus", "mouseover", "touchmove", "scroll", "keydown"]; window.LoadSnipcart = o; document.readyState === "loading" ? document.addEventListener("DOMContentLoaded", r) : r(); function r() { window.SnipcartSettings.loadStrategy ? window.SnipcartSettings.loadStrategy === "on-user-interaction" && (m.forEach(t => document.addEventListener(t, o)), setTimeout(o, window.SnipcartSettings.timeoutDuration)) : o() } var a = !1; function o() { if (a) return; a = !0; let t = document.getElementsByTagName("head")[0], e = document.querySelector("#snipcart"), i = document.querySelector(`src[src^="${window.SnipcartSettings.protocol}://${window.SnipcartSettings.domain}"][src$="snipcart.js"]`), n = document.querySelector(`link[href^="${window.SnipcartSettings.protocol}://${window.SnipcartSettings.domain}"][href$="snipcart.css"]`); e || (e = document.createElement("div"), e.id = "snipcart", e.setAttribute("hidden", "true"), document.body.appendChild(e)), v(e), i || (i = document.createElement("script"), i.src = `${window.SnipcartSettings.protocol}://${window.SnipcartSettings.domain}/themes/v${window.SnipcartSettings.version}/default/snipcart.js`, i.async = !0, t.appendChild(i)), n || (n = document.createElement("link"), n.rel = "stylesheet", n.type = "text/css", n.href = `${window.SnipcartSettings.protocol}://${window.SnipcartSettings.domain}/themes/v${window.SnipcartSettings.version}/default/snipcart.css`, t.prepend(n)), m.forEach(g => document.removeEventListener(g, o)) } function v(t) { !f || (t.dataset.apiKey = window.SnipcartSettings.publicApiKey, window.SnipcartSettings.addProductBehavior && (t.dataset.configAddProductBehavior = window.SnipcartSettings.addProductBehavior), window.SnipcartSettings.modalStyle && (t.dataset.configModalStyle = window.SnipcartSettings.modalStyle), window.SnipcartSettings.currency && (t.dataset.currency = window.SnipcartSettings.currency), window.SnipcartSettings.templatesUrl && (t.dataset.templatesUrl = window.SnipcartSettings.templatesUrl)) } })();
</script>

</html>